{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "b25b9e2e_67a307a2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 25,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-19T21:08:30Z",
      "side": 1,
      "message": "Add a Bug: line to link to your tracking bug?",
      "revId": "35af40b788dea6dc42830994d533d86adf7a2c51",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5280274f_cc3bee4f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-19T21:08:30Z",
      "side": 1,
      "message": "Jingning: Please review. The actual changes are in only two files: rd.c and txb_rdopt.c. Please at least check the changes to txb_rdopt.c. Thanks!",
      "revId": "35af40b788dea6dc42830994d533d86adf7a2c51",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "db2ec2f8_d44d1f83",
        "filename": "av1/encoder/rd.c",
        "patchSetId": 3
      },
      "lineNbr": 410,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-19T21:08:30Z",
      "side": 1,
      "message": "Could you document how you came up with this equation?",
      "revId": "35af40b788dea6dc42830994d533d86adf7a2c51",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "387bf4ac_0b925253",
        "filename": "av1/encoder/rd.c",
        "patchSetId": 3
      },
      "lineNbr": 411,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-19T21:08:30Z",
      "side": 1,
      "message": "IMPORTANT: Cast to `int64_t`, not `int`. See the code above.\n\nUnless `rdmult` is very close to `INT64_MAX`, we can also just do integer arithmetic:\n\n```\n    rdmult \u003d rdmult * weight / 128;\n```",
      "revId": "35af40b788dea6dc42830994d533d86adf7a2c51",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28089a3a_a3e286b2",
        "filename": "av1/encoder/rd.c",
        "patchSetId": 3
      },
      "lineNbr": 441,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-19T21:08:30Z",
      "side": 1,
      "message": "Nit: I wonder if we should make sure `rdmult` is \u003c\u003d `INT_MAX` before casting to int, as we do in line 422.",
      "revId": "35af40b788dea6dc42830994d533d86adf7a2c51",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef1a3dcb_6a77491b",
        "filename": "av1/encoder/rd.c",
        "patchSetId": 3
      },
      "lineNbr": 496,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-19T21:08:30Z",
      "side": 1,
      "message": "Nit: Remove the `int` cast. `av1_compute_rd_mult()` returns an `int`.",
      "revId": "35af40b788dea6dc42830994d533d86adf7a2c51",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "700bae9f_07a5c65e",
        "filename": "av1/encoder/rd.h",
        "patchSetId": 3
      },
      "lineNbr": 235,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-19T21:08:30Z",
      "side": 1,
      "message": "Nit: I suggest \"visual tuning metric\". Copied from the following comment in av1/encoder/encoder.h:\n\n```\n  // Indicates the visual tuning metric.\n  aom_tune_metric tuning;\n```\n\nand the following comment in aom/aomcx.h:\n\n```\n  /*!\\brief Codec control function to set visual tuning, aom_tune_metric (int)\n   * parameter\n   *\n   * The default is AOM_TUNE_PSNR.\n   */\n  AOME_SET_TUNING \u003d AOME_SET_ARNR_STRENGTH + 2,  // 24\n```",
      "range": {
        "startLine": 235,
        "startChar": 36,
        "endLine": 235,
        "endChar": 49
      },
      "revId": "35af40b788dea6dc42830994d533d86adf7a2c51",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9d3a14d8_be66270f",
        "filename": "av1/encoder/tpl_model.c",
        "patchSetId": 3
      },
      "lineNbr": 1379,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-19T21:08:30Z",
      "side": 1,
      "message": "Remove the `int` cast.",
      "revId": "35af40b788dea6dc42830994d533d86adf7a2c51",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4f56be3c_ae6bca1a",
        "filename": "av1/encoder/txb_rdopt.c",
        "patchSetId": 3
      },
      "lineNbr": 342,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-19T21:08:30Z",
      "side": 1,
      "message": "Jingning, Cheng: Could you take a look at the changes to this file?",
      "revId": "35af40b788dea6dc42830994d533d86adf7a2c51",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "24676ccd_1b1c91c6",
        "filename": "av1/encoder/txb_rdopt.c",
        "patchSetId": 3
      },
      "lineNbr": 342,
      "author": {
        "id": 5022
      },
      "writtenOn": "2024-11-19T21:16:15Z",
      "side": 1,
      "message": "This will more likely move the operating points along the RD curve towards higher bit-rate side.\n\nIt really just depends on the RD curve characteristics associated with the metric itself.\n\nI am okay with the change as long as it doesn\u0027t alter the current coding stats.",
      "parentUuid": "4f56be3c_ae6bca1a",
      "revId": "35af40b788dea6dc42830994d533d86adf7a2c51",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df089711_a913d7fd",
        "filename": "av1/encoder/txb_rdopt.c",
        "patchSetId": 3
      },
      "lineNbr": 347,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-19T21:08:30Z",
      "side": 1,
      "message": "IMPORTANT: The 2 here looks like the rounding term for `rshift` of 2.\n\ngit history supports this. The code originally looked like `(... + 2) \u003e\u003e 2`. In https://aomedia-review.googlesource.com/c/aom/+/60901, the right shift amount was changed to a complicated expression, but the rounding term was not updated. That complicated expression eventually became `rshift`.\n\nSo, we should replace the 2 by `(1 \u003c\u003c rshift) \u003e\u003e 1`. Better to store it in a variable named `rounding`. There is actually a macro that does right shift with rounding in libaom...",
      "revId": "35af40b788dea6dc42830994d533d86adf7a2c51",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}