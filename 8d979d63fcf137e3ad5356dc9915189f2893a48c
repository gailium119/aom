{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5c2e904a_f4d807af",
        "filename": "av1/encoder/tpl_model.c",
        "patchSetId": 4
      },
      "lineNbr": 1312,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-20T23:52:18Z",
      "side": 1,
      "message": "Nit: \"that\" is repeated.",
      "revId": "8d979d63fcf137e3ad5356dc9915189f2893a48c",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "746c5c70_368c61b6",
        "filename": "av1/encoder/tpl_model.c",
        "patchSetId": 4
      },
      "lineNbr": 1312,
      "author": {
        "id": 3678645
      },
      "writtenOn": "2024-11-21T01:44:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5c2e904a_f4d807af",
      "revId": "8d979d63fcf137e3ad5356dc9915189f2893a48c",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "05813a3c_87226ce1",
        "filename": "av1/encoder/tpl_model.c",
        "patchSetId": 4
      },
      "lineNbr": 1313,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-20T23:52:18Z",
      "side": 1,
      "message": "Nit: \"or implies it\" is not clear. Perhaps we can say\n\n```\n..., so ensure that we are not running in all intra mode,\nwhich implies we are not tuning for SSIMULACRA 2.\n```\n\nNote: I think Cheng\u0027s concern is addressed by the following check in the `handle_tuning()` function in av1/av1_cx_iface.c:\n\n```\nstatic aom_codec_err_t handle_tuning(aom_codec_alg_priv_t *ctx,\n                                     struct av1_extracfg *extra_cfg) {\n  if (extra_cfg-\u003etuning \u003d\u003d AOM_TUNE_SSIMULACRA2) {\n    if (ctx-\u003ecfg.g_usage !\u003d AOM_USAGE_ALL_INTRA) return AOM_CODEC_INCAPABLE;\n```\n\nSo it doesn\u0027t seem necessary to add this assertion.",
      "revId": "8d979d63fcf137e3ad5356dc9915189f2893a48c",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "77106e9e_74d460b0",
        "filename": "av1/encoder/tpl_model.c",
        "patchSetId": 4
      },
      "lineNbr": 1313,
      "author": {
        "id": 3678645
      },
      "writtenOn": "2024-11-21T01:44:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "05813a3c_87226ce1",
      "revId": "8d979d63fcf137e3ad5356dc9915189f2893a48c",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5c4aa0e1_087a2cd0",
        "filename": "av1/encoder/tpl_model.c",
        "patchSetId": 4
      },
      "lineNbr": 1384,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-20T23:52:18Z",
      "side": 1,
      "message": "I suggest moving the new assertion right before this line, to make it clear that the assertion is intended to show we will not pass `cpi-\u003eoxcf.tune_cfg.tuning\u003dAOM_TUNE_SSIMULACRA2` to this `av1_compute_rd_mult()` call.",
      "revId": "8d979d63fcf137e3ad5356dc9915189f2893a48c",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "64d58855_d0ee6dda",
        "filename": "av1/encoder/tpl_model.c",
        "patchSetId": 4
      },
      "lineNbr": 1384,
      "author": {
        "id": 3678645
      },
      "writtenOn": "2024-11-21T01:44:53Z",
      "side": 1,
      "message": "Yeah, I think that was Cheng\u0027s concern -- to catch situations where either TPL is running in all intra mode or SSIMULACRA 2 tune by accident. `handle_tuning()` would only help take care of the latter.",
      "parentUuid": "5c4aa0e1_087a2cd0",
      "revId": "8d979d63fcf137e3ad5356dc9915189f2893a48c",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a90a07b3_e5dd98a0",
        "filename": "av1/encoder/txb_rdopt.c",
        "patchSetId": 4
      },
      "lineNbr": 351,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-20T23:52:18Z",
      "side": 1,
      "message": "Optional: I found the macro that I said we can use here. It is `ROUND_POWER_OF_TWO`. Include \"aom_ports/mem.h\".",
      "revId": "8d979d63fcf137e3ad5356dc9915189f2893a48c",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "26eaa2cc_0b48a18a",
        "filename": "av1/encoder/txb_rdopt.c",
        "patchSetId": 4
      },
      "lineNbr": 351,
      "author": {
        "id": 3678645
      },
      "writtenOn": "2024-11-21T01:44:53Z",
      "side": 1,
      "message": "Thanks for the heads-up on the macro. I\u0027ll keep the current statement as is, if that\u0027s okay.",
      "parentUuid": "a90a07b3_e5dd98a0",
      "revId": "8d979d63fcf137e3ad5356dc9915189f2893a48c",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}