{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8f97d463_4d43e080",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-15T21:54:35Z",
      "side": 1,
      "message": "Nit: In the commit message (and possibly in comments in the source code), clarify what about chroma we are decreasing. I think we are decreasing chroma quality. Or we can say \"Increase AC chroma delta_q\".",
      "revId": "527a91423b277d688fd621edc49922a36c545af8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "10078ba9_8c6cf71e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 3678645
      },
      "writtenOn": "2024-11-16T01:51:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8f97d463_4d43e080",
      "revId": "527a91423b277d688fd621edc49922a36c545af8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5db9fd67_1cc407ae",
        "filename": "av1/encoder/av1_quantize.c",
        "patchSetId": 3
      },
      "lineNbr": 890,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-15T22:21:42Z",
      "side": 1,
      "message": "Should we also describe below how the decrease ramp-down was determined?",
      "revId": "527a91423b277d688fd621edc49922a36c545af8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b8b133c2_42d3172c",
        "filename": "av1/encoder/av1_quantize.c",
        "patchSetId": 3
      },
      "lineNbr": 890,
      "author": {
        "id": 3678645
      },
      "writtenOn": "2024-11-16T01:51:53Z",
      "side": 1,
      "message": "I rephrased the comment to mention what I said here in a more concise way: https://aomedia-review.googlesource.com/c/aom/+/195181/comment/a3317094_14c77efc/",
      "parentUuid": "5db9fd67_1cc407ae",
      "revId": "527a91423b277d688fd621edc49922a36c545af8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0c8323bd_487a8e39",
        "filename": "av1/encoder/av1_quantize.c",
        "patchSetId": 3
      },
      "lineNbr": 896,
      "author": {
        "id": 6585
      },
      "writtenOn": "2024-11-15T22:52:35Z",
      "side": 1,
      "message": "I suggest changing to \"low qindexes\" as high-quality often refers to image not qindex.",
      "range": {
        "startLine": 896,
        "startChar": 0,
        "endLine": 896,
        "endChar": 42
      },
      "revId": "527a91423b277d688fd621edc49922a36c545af8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ade0683c_ae9837d4",
        "filename": "av1/encoder/av1_quantize.c",
        "patchSetId": 3
      },
      "lineNbr": 896,
      "author": {
        "id": 3678645
      },
      "writtenOn": "2024-11-16T01:51:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0c8323bd_487a8e39",
      "range": {
        "startLine": 896,
        "startChar": 0,
        "endLine": 896,
        "endChar": 42
      },
      "revId": "527a91423b277d688fd621edc49922a36c545af8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "65238a8a_8a673e8f",
        "filename": "av1/encoder/av1_quantize.c",
        "patchSetId": 3
      },
      "lineNbr": 903,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-15T21:54:35Z",
      "side": 1,
      "message": "Nit: decrease ramp-down \u003d\u003e ramp-down of chroma decrease ?\n\nThe important thing is to add \"chroma\" to clarify what \"decrease\" refers to.",
      "revId": "527a91423b277d688fd621edc49922a36c545af8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8947580b_f95e4b4c",
        "filename": "av1/encoder/av1_quantize.c",
        "patchSetId": 3
      },
      "lineNbr": 903,
      "author": {
        "id": 6585
      },
      "writtenOn": "2024-11-15T22:52:35Z",
      "side": 1,
      "message": "Similar here.",
      "range": {
        "startLine": 903,
        "startChar": 46,
        "endLine": 903,
        "endChar": 72
      },
      "revId": "527a91423b277d688fd621edc49922a36c545af8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0bb48f5a_4fe94ca4",
        "filename": "av1/encoder/av1_quantize.c",
        "patchSetId": 3
      },
      "lineNbr": 903,
      "author": {
        "id": 3678645
      },
      "writtenOn": "2024-11-16T01:51:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8947580b_f95e4b4c",
      "range": {
        "startLine": 903,
        "startChar": 46,
        "endLine": 903,
        "endChar": 72
      },
      "revId": "527a91423b277d688fd621edc49922a36c545af8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ccb42659_d892a4dd",
        "filename": "av1/encoder/av1_quantize.c",
        "patchSetId": 3
      },
      "lineNbr": 903,
      "author": {
        "id": 3678645
      },
      "writtenOn": "2024-11-16T01:51:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "65238a8a_8a673e8f",
      "revId": "527a91423b277d688fd621edc49922a36c545af8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3317094_14c77efc",
        "filename": "av1/encoder/av1_quantize.c",
        "patchSetId": 3
      },
      "lineNbr": 904,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-15T22:21:42Z",
      "side": 1,
      "message": "Does \"score better\" mean \"get better SSIMULACRS2 scores\"?\n\nWhat does \"in an absolute sense\" mean here?",
      "revId": "527a91423b277d688fd621edc49922a36c545af8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c97efe43_60a8faaa",
        "filename": "av1/encoder/av1_quantize.c",
        "patchSetId": 3
      },
      "lineNbr": 904,
      "author": {
        "id": 3678645
      },
      "writtenOn": "2024-11-16T01:24:46Z",
      "side": 1,
      "message": "If you encode something with (lossy) QP 0, the best SSIMU2 score you can ever get (by definition) is with no chroma delta_q adjustment, because otherwise the encoder will necessarily have to throw out more chroma information, resulting in a scoring loss. Unlike with QMs, the scoring difference between chroma delta_q on and off at QP 0 can be significant, at around ~1 SSIMU2 point (because of a lower absolute score ceiling, not efficiency-per-bitrate reasons).\n\nAll of the above means that there needs to be a way to keep QP 0 \"maximum quality\". However, we also don\u0027t want to turn on/off chroma delta_q adjustment within any two consecutive QPs, because resulting file size differences can be very big and unexpected by the user. The ramp-down allows a compromise between preserving the QP 0 \"highest-score-no-matter-what\" behavior, while smoothly and incrementally enabling AC chroma boosting as QP increases, so files encoded at the SSIMU2 ~90 level still benefit from the efficiency improvements.\n\nHope this makes sense.",
      "parentUuid": "a3317094_14c77efc",
      "revId": "527a91423b277d688fd621edc49922a36c545af8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}