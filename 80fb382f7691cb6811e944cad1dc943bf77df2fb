{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "30003b17_7f9f9378",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 3678645
      },
      "writtenOn": "2024-11-19T21:15:29Z",
      "side": 1,
      "message": "Reminder to add the bug to commit message.",
      "revId": "80fb382f7691cb6811e944cad1dc943bf77df2fb",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "af773c99_532c63d2",
        "filename": "av1/common/quant_common.h",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 3678645
      },
      "writtenOn": "2024-11-19T17:49:20Z",
      "side": 1,
      "message": "Wan-Teh, Cheng: setting a `qm-min` of 2 here is fine for luma QM calculation, as `aom_get_qmlevel_allintra()` internally starts from 4 even if the provided `qm-min` is lower.",
      "range": {
        "startLine": 41,
        "startChar": 0,
        "endLine": 42,
        "endChar": 38
      },
      "revId": "80fb382f7691cb6811e944cad1dc943bf77df2fb",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3b617588_3320a0c6",
        "filename": "av1/common/quant_common.h",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-20T00:04:20Z",
      "side": 1,
      "message": "If this is the case, we can just change `DEFAULT_QM_FIRST_ALLINTRA` to 2 and not add `DEFAULT_QM_FIRST_SSIMULACRA2` and `DEFAULT_QM_LAST_SSIMULACRA2`, right?",
      "parentUuid": "af773c99_532c63d2",
      "range": {
        "startLine": 41,
        "startChar": 0,
        "endLine": 42,
        "endChar": 38
      },
      "revId": "80fb382f7691cb6811e944cad1dc943bf77df2fb",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba085cf3_9757719b",
        "filename": "av1/common/quant_common.h",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 3678645
      },
      "writtenOn": "2024-11-20T01:17:25Z",
      "side": 1,
      "message": "We could, but doing so would semantically change what QM levels all intra (with no SSIMULACRA 2 tune) advertises as its defaults. I\u0027d rather keep those two separate, but I don\u0027t have strong feelings against unifying them either.\n\nThis is how QM level defaults currently stand:\n- All intra, no SSIMULACRA 2 tune: min luma and chroma 4, max luma and chroma 10\n- All intra, SSIMULACRA 2 tune: min luma 4, min chroma 2, max luma and chroma 10",
      "parentUuid": "3b617588_3320a0c6",
      "range": {
        "startLine": 41,
        "startChar": 0,
        "endLine": 42,
        "endChar": 38
      },
      "revId": "80fb382f7691cb6811e944cad1dc943bf77df2fb",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f0b4cd7_3154f662",
        "filename": "av1/common/quant_common.h",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-20T22:51:57Z",
      "side": 1,
      "message": "Thanks.\n\nOptional: By our definition of default values, `DEFAULT_QM_FIRST_SSIMULACRA2` and `DEFAULT_QM_LAST_SSIMULACRA2` are not default values, because they are not set during encoder initialization. So we should remove `DEFAULT_` from their names, but we don\u0027t need to be that pedantic.",
      "parentUuid": "ba085cf3_9757719b",
      "range": {
        "startLine": 41,
        "startChar": 0,
        "endLine": 42,
        "endChar": 38
      },
      "revId": "80fb382f7691cb6811e944cad1dc943bf77df2fb",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d30a3d4e_fde99efd",
        "filename": "av1/common/quant_common.h",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 6585
      },
      "writtenOn": "2024-11-19T21:44:03Z",
      "side": 1,
      "message": "Please specify this function is for 4:4:4 subsampling, even though one might be able to figure it out from the function name, or context.\n\nSuggest change:\n// Chroma QM levels for 4:4:4 subsampling tuned for SSIMULACRA 2.",
      "range": {
        "startLine": 92,
        "startChar": 3,
        "endLine": 92,
        "endChar": 47
      },
      "fixSuggestions": [
        {
          "fixId": "7593d152_8ba36dce",
          "description": "prompt_to_edit API",
          "replacements": [
            {
              "path": "av1/common/quant_common.h",
              "range": {
                "startLine": 92,
                "startChar": 0,
                "endLine": 93,
                "endChar": 0
              },
              "replacement": "// Chroma QM levels for 4:4:4 subsampling tuned for SSIMULACRA 2 tune\n"
            }
          ]
        }
      ],
      "revId": "80fb382f7691cb6811e944cad1dc943bf77df2fb",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0817aa46_dbd3b368",
        "filename": "av1/common/quant_common.h",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 3678645
      },
      "writtenOn": "2024-11-20T01:17:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d30a3d4e_fde99efd",
      "range": {
        "startLine": 92,
        "startChar": 3,
        "endLine": 92,
        "endChar": 47
      },
      "revId": "80fb382f7691cb6811e944cad1dc943bf77df2fb",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26cc7e99_66205902",
        "filename": "av1/common/quant_common.h",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 6585
      },
      "writtenOn": "2024-11-19T21:44:03Z",
      "side": 1,
      "message": "Suggestion:\nIf someone is not very familiar with the QM levels, they can not immediately figure out the meaning of QM levels.\n\nCould you add some brief description such that one can easily get the basic idea of the function?\n\nFor example, low QM levels mean more homogeneous quantization, high QM levels mean more skewed quantization?\n\nIf such documentation already exists somewhere, we can also just refer to that.\n\nThat could help the readers or future developers.",
      "range": {
        "startLine": 118,
        "startChar": 3,
        "endLine": 118,
        "endChar": 24
      },
      "fixSuggestions": [
        {
          "fixId": "522b1d04_d419be07",
          "description": "prompt_to_edit API",
          "replacements": [
            {
              "path": "av1/common/quant_common.h",
              "range": {
                "startLine": 96,
                "startChar": 0,
                "endLine": 97,
                "endChar": 0
              },
              "replacement": "// check. This is a decreasing function in qindex. The QM levels are\n// 2, 3, 4, 5, 6, 7, 8, 9, 10.\n"
            }
          ]
        }
      ],
      "revId": "80fb382f7691cb6811e944cad1dc943bf77df2fb",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "eb7e4198_99afec63",
        "filename": "av1/common/quant_common.h",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 3678645
      },
      "writtenOn": "2024-11-20T01:17:25Z",
      "side": 1,
      "message": "I expanded the descriptions for both this formula and the general allintra one. Hope they help.\n\nIt\u0027s been surprisingly hard to find information about AV1 quantization matrices online. Almost all of the references I\u0027ve found so far, they either cover just the very basics, or outright list the raw weights. I added the most decent documentation I could find as a reference (the AV1 technical paper on arxiv).",
      "parentUuid": "26cc7e99_66205902",
      "range": {
        "startLine": 118,
        "startChar": 3,
        "endLine": 118,
        "endChar": 24
      },
      "revId": "80fb382f7691cb6811e944cad1dc943bf77df2fb",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5b84a026_625264ec",
        "filename": "av1/encoder/av1_quantize.c",
        "patchSetId": 1
      },
      "lineNbr": 948,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-20T00:04:20Z",
      "side": 1,
      "message": "Nit: Rename this variable `get_luma_qmlevel`?",
      "revId": "80fb382f7691cb6811e944cad1dc943bf77df2fb",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "77ea95a7_3811d81c",
        "filename": "av1/encoder/av1_quantize.c",
        "patchSetId": 1
      },
      "lineNbr": 948,
      "author": {
        "id": 3678645
      },
      "writtenOn": "2024-11-20T01:17:25Z",
      "side": 1,
      "message": "I like that idea, changed",
      "parentUuid": "5b84a026_625264ec",
      "revId": "80fb382f7691cb6811e944cad1dc943bf77df2fb",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}