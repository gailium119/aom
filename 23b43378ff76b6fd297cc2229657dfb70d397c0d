{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "eede5469_cd56a149",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-11T19:09:55Z",
      "side": 1,
      "message": "Julio, Cheng: There are two main comments (marked with \"IMPORTANT\"). Please read those first. All the other comments are minor or related to the main comments. Thanks!",
      "revId": "23b43378ff76b6fd297cc2229657dfb70d397c0d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "98739d4e_575f2f70",
        "filename": "av1/encoder/av1_quantize.c",
        "patchSetId": 2
      },
      "lineNbr": 877,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-11T19:09:55Z",
      "side": 1,
      "message": "IMPORTANT: This will cause us to use `chroma_delta_q\u003d0` for 4:4:4 and 4:2:2. The original code uses 2. Is this change intended? Should we initialize `chroma_delta_q` to 2 instead, which could also be used by the code at lines 896-900.",
      "revId": "23b43378ff76b6fd297cc2229657dfb70d397c0d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5acbceaa_a21c1acd",
        "filename": "av1/encoder/av1_quantize.c",
        "patchSetId": 2
      },
      "lineNbr": 882,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-11T19:09:55Z",
      "side": 1,
      "message": "Add \"Daala\u0027s\" before \"subset1\".",
      "range": {
        "startLine": 882,
        "startChar": 30,
        "endLine": 882,
        "endChar": 37
      },
      "revId": "23b43378ff76b6fd297cc2229657dfb70d397c0d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b068f4df_c97477ba",
        "filename": "av1/encoder/av1_quantize.c",
        "patchSetId": 2
      },
      "lineNbr": 894,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-11T19:09:55Z",
      "side": 1,
      "message": "If I understand the AV1 spec correcty, these four fields are encoded in the bitstream as `su(1+6)` (see the `read_delta_q()` function in Section 5.9.13 (Delta quantizer syntax) in the AV1 spec. So -16 should be in the range of`su(1+6)`, right?",
      "revId": "23b43378ff76b6fd297cc2229657dfb70d397c0d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1cc2df22_3bbcb50a",
        "filename": "av1/encoder/av1_quantize.h",
        "patchSetId": 2
      },
      "lineNbr": 126,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-11T19:09:55Z",
      "side": 1,
      "message": "IMPORTANT: `subsampling_x` and `subsampling_y` are available in `cm-\u003eseq_params-\u003esubsampling_x` and `cm-\u003eseq_params-\u003esubsampling_y`. If this function is only called after `cm-\u003eseq_params-\u003esubsampling_x` and `cm-\u003eseq_params-\u003esubsampling_y` have been set up, we don\u0027t need to add the `subsampling_x` and `subsampling_y` parameters to this function.\n\n`cm-\u003eseq_params-\u003esubsampling_x` and `cm-\u003eseq_params-\u003esubsampling_y` are set up in two functions:\n- `init_config_sequence()`, which is called during `encoder_init()`.\n- `av1_check_initial_width()`, which is called during `encoder_encode()`. I am surprised that we allow `subsampling_x` and `subsampling_y` to  change during encoding.\n\nCheng, do you know where we should get `subsampling_x` and `subsampling_y` for this function?\n- `cm-\u003eseq_params-\u003esubsampling_x` and `cm-\u003eseq_params-\u003esubsampling_y`, or\n- `cpi-\u003esource-\u003esubsampling_x` and `cpi-\u003esource-\u003esubsampling_y`?",
      "revId": "23b43378ff76b6fd297cc2229657dfb70d397c0d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "910766a6_ce0a8b1a",
        "filename": "av1/encoder/firstpass.c",
        "patchSetId": 2
      },
      "lineNbr": 1376,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-11-11T19:09:55Z",
      "side": 1,
      "message": "Note that we are getting `subsampling_x` and `subsampling_y` from different sructs in lines 1372 and line 1375. We should be consistent at least within the same function.",
      "revId": "23b43378ff76b6fd297cc2229657dfb70d397c0d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}